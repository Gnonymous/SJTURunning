# SJTU 校园跑步工具 - 开发者指南

## 🚀 快速开始 (macOS)

### 环境要求

- Python 3.8+
- pip 包管理器

### 安装步骤

```bash
# 1. 进入项目目录
cd /Users/gnonymous/Documents/Github/SJTURunningMan_Revise_Edition

# 2. 创建虚拟环境（推荐）
python3 -m venv venv
source venv/bin/activate

# 3. 安装依赖
pip install PySide6 requests tenacity

# 4. 运行程序
python qtui.py
```

---

## ⚙️ 统一配置文件

所有可调参数已集中到 `config.json` 文件中，修改无需改代码：

```json
{
  "跑步天数": 1,
  "每日距离_米": 4000,
  "配速_分钟每公里": 3.5,
  "GPS采样间隔_秒": 3,
  
  "跑步时间随机": true,
  "固定跑步时间_时": 8,
  "固定跑步时间_分": 0,
  "随机时间范围_开始时": 7,
  "随机时间范围_结束时": 20,
  
  "起点纬度": 31.031599,
  "起点经度": 121.442938,
  "终点纬度": 31.0264,
  "终点经度": 121.4551
}
```

### 参数说明

| 参数 | 说明 | 示例值 |
|------|------|--------|
| `跑步天数` | 往前生成多少天记录 | `25` = 25天 |
| `每日距离_米` | 每天跑步距离 | `5000` = 5km |
| `配速_分钟每公里` | 跑步配速 | `3.5` = 3分30秒/公里 |
| `跑步时间随机` | 是否随机生成时间 | `true` / `false` |
| `固定跑步时间_时/分` | 固定时间（随机=false时生效） | `8`, `0` = 8:00 |
| `随机时间范围_开始时/结束时` | 随机时间范围（随机=true时使用） | `7`, `20` = 7:00-20:59 |

---

## 🛠️ 常见配置场景

### 场景 1: 生成最近 7 天、每天 3km 的记录
```json
{
  "跑步天数": 7,
  "每日距离_米": 3000
}
```

### 场景 2: 每天随机时间跑步
```json
{
  "跑步时间随机": true,
  "随机时间范围_开始时": 6,
  "随机时间范围_结束时": 21
}
```

### 场景 3: 固定每天晚上 6 点跑步
```json
{
  "跑步时间随机": false,
  "固定跑步时间_时": 18,
  "固定跑步时间_分": 30
}
```

---

## 📁 项目结构

```
├── config.json          # 统一配置文件 ⭐
├── qtui.py              # GUI 主程序入口
├── src/
│   ├── main.py          # 核心业务逻辑
│   ├── config.py        # 配置加载模块
│   ├── login.py         # Jaccount 登录
│   ├── api_client.py    # API 请求封装
│   └── data_generator.py # 轨迹数据生成
├── utils/
│   └── auxiliary_util.py # 工具函数
└── assets/              # 资源文件
```

---

## ⚠️ 注意事项

1. **配速限制**: 服务器有配速校验（通常 3-9 分钟/公里）
2. **时间限制**: 不要生成未来日期的记录
3. **频率限制**: 避免短时间内多次提交

---

*最后更新: 2025-12-14*
